{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "error",
  "type": "registry:component",
  "dependencies": ["@wallet-standard/core"],
  "registryDependencies": ["@shadcn/alert-dialog", "@shadcn/button"],
  "files": [
    {
      "path": "src/registry/default/ui/wallet/error.tsx",
      "content": "\"use client\";\nimport {\n  isWalletStandardError,\n  WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_CHAIN_UNSUPPORTED,\n  WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_FEATURE_UNIMPLEMENTED,\n  WALLET_STANDARD_ERROR__FEATURES__WALLET_FEATURE_UNIMPLEMENTED,\n} from \"@wallet-standard/core\";\n\nimport React from \"react\";\nimport {\n  AlertDialog,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/registry/default/ui/alert-dialog\";\nimport { Button } from \"@/registry/default/ui/button\";\n\nconst NO_ERROR = Symbol(\"NO_ERROR\");\n\nfunction getWalletErrorMessage(\n  err: unknown,\n  fallbackMessage: React.ReactNode\n): React.ReactNode {\n  if (\n    isWalletStandardError(\n      err,\n      WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_FEATURE_UNIMPLEMENTED\n    )\n  ) {\n    return (\n      <>\n        This account does not support the{\" \"}\n        <code className=\"rounded bg-card px-1.5 py-0.5 font-mono text-sm\">\n          {err.context.featureName}\n        </code>{\" \"}\n        feature\n      </>\n    );\n  }\n  if (\n    isWalletStandardError(\n      err,\n      WALLET_STANDARD_ERROR__FEATURES__WALLET_FEATURE_UNIMPLEMENTED\n    )\n  ) {\n    return (\n      <div className=\"flex flex-col gap-4\">\n        <p>\n          The wallet {err.context.walletName} (\n          {err.context.supportedChains.sort().map((chain, ii, { length }) => (\n            <React.Fragment key={chain}>\n              <code className=\"rounded bg-card px-1.5 py-0.5 font-mono text-sm\">\n                {chain}\n              </code>\n              {ii === length - 1 ? null : \", \"}\n            </React.Fragment>\n          ))}\n          ) does not support the\n          <code className=\"rounded bg-card px-1.5 py-0.5 font-mono text-sm\">\n            {err.context.featureName}\n          </code>\n          feature.\n        </p>\n        <div>\n          Features supported:\n          <ul className=\"mt-2 list-disc pl-5\">\n            {err.context.supportedFeatures.sort().map((featureName) => (\n              <li key={featureName}>\n                <code className=\"rounded bg-card px-1.5 py-0.5 font-mono text-sm\">\n                  {featureName}\n                </code>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n  if (\n    isWalletStandardError(\n      err,\n      WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_CHAIN_UNSUPPORTED\n    )\n  ) {\n    return (\n      <div className=\"flex flex-col gap-4\">\n        <p>\n          This account does not support the chain{\" \"}\n          <code className=\"rounded bg-card px-1.5 py-0.5 font-mono text-sm\">\n            {err.context.chain}\n          </code>\n          .\n        </p>\n        <div>\n          Chains supported:\n          <ul className=\"mt-2 list-disc pl-5\">\n            {err.context.supportedChains.sort().map((chain) => (\n              <li key={chain}>\n                <code className=\"rounded bg-card px-1.5 py-0.5 font-mono text-sm\">\n                  {chain}\n                </code>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n  if (err && typeof err === \"object\" && \"message\" in err) {\n    return String(err.message);\n  }\n  return fallbackMessage;\n}\n\ntype WalletErrorDialogProps = {\n  error: unknown;\n  onClose?: () => unknown;\n  title?: string;\n};\n\nfunction WalletErrorDialog({ error, onClose, title }: WalletErrorDialogProps) {\n  const [isOpen, setIsOpen] = React.useState(true);\n  return (\n    <AlertDialog\n      onOpenChange={(open) => {\n        if (!open && (!onClose || onClose() !== false)) {\n          setIsOpen(false);\n        }\n      }}\n      open={isOpen}\n    >\n      <AlertDialogContent>\n        <AlertDialogHeader>\n          <AlertDialogTitle className=\"text-destructive\">\n            {title ?? \"We encountered the following error\"}\n          </AlertDialogTitle>\n          <AlertDialogDescription className=\"mt-2 rounded-lg border border-muted bg-muted p-4\">\n            {getWalletErrorMessage(error, \"Unknown\")}\n          </AlertDialogDescription>\n        </AlertDialogHeader>\n        <AlertDialogFooter>\n          <AlertDialogCancel asChild>\n            <Button variant=\"outline\">Close</Button>\n          </AlertDialogCancel>\n        </AlertDialogFooter>\n      </AlertDialogContent>\n    </AlertDialog>\n  );\n}\n\nexport { WalletErrorDialog, getWalletErrorMessage, NO_ERROR };\n",
      "type": "registry:component",
      "target": "components/wallet/error.tsx"
    }
  ],
  "categories": ["wallet"]
}
